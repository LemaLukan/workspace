package a4;

import java.awt.FlowLayout;
import java.awt.event.*;
import java.util.* ;

import javax.swing.*;

public class MyFrame extends JFrame implements ActionListener {
	private JLabel aLabel, bLabel;
	private JTextField area1, area2;
	private OutputFrame nameFrame, ageFrame;
	private ObserverName watched;
	public MyFrame(OutputFrame nameFrame, OutputFrame ageFrame){
		super("User Input Area");
		
		watched = new ObserverName();
		watched.addObserver(nameFrame);
		watched.addObserver(ageFrame);
		this.nameFrame = nameFrame;
		this.ageFrame = ageFrame;
		setLayout(new FlowLayout());
		aLabel = new JLabel("What is your name?");
		add(aLabel);
		area1  = new JTextField( 10 );
		area1.addActionListener(this);
		add(area1);
		bLabel = new JLabel("How old are you?");
		add(bLabel);
		area2  = new JTextField( 10 );
		area2.addActionListener(this);
		add(area2);	
	}
	public void actionPerformed(ActionEvent e){
		Integer age;
		String name;
		if (e.getSource() == area1){
			name = area1.getText();
			nameFrame.insert(name);
			area1.setText("");
		} else {			 
			age = Integer.parseInt(area2.getText());	
			ageFrame.insert(age);
			area2.setText("");
		}
	}	
	public static void main(String a[]){	
		MyFrame aFrame;
		OutputFrame nameFrame, ageFrame;

		nameFrame = new OutputFrame("name");
		nameFrame. setSize(275,200);
		nameFrame. setVisible(true);
		ageFrame = new OutputFrame("age");
		ageFrame. setSize(275,200);
		ageFrame. setVisible(true);
		aFrame = new MyFrame(nameFrame, ageFrame);
		aFrame. setSize(300, 100);
		aFrame. setVisible(true);
	}
}

